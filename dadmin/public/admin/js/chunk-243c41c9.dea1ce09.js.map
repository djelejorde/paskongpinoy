{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./src/layouts/timeline/options.vue?af07","webpack:///./src/layouts/timeline/options.vue?ee7a","webpack:///src/layouts/timeline/options.vue","webpack:///./src/layouts/timeline/options.vue?d5bf","webpack:///./src/layouts/timeline/options.vue","webpack:///./node_modules/@directus/extension-toolkit/mixins/layout.js"],"names":["global","inheritIfRequired","dP","f","gOPN","isRegExp","$flags","$RegExp","RegExp","Base","proto","prototype","re1","re2","CORRECT_NEW","p","tiRE","this","piRE","fiU","undefined","constructor","source","call","proxy","key","configurable","get","set","it","keys","i","length","render","_vm","_h","$createElement","_c","_self","on","$event","preventDefault","staticClass","attrs","_v","_s","$t","viewOptions","date","dateOptions","setOption","titleValidator","title","textOptions","content","contentOptions","color","staticRenderFns","mixins","data","sortList","titleValid","computed","options","__none__","_","pickBy","identity","fields","regex","toString","replace","mapValues","methods","getKeys","obj","subKeys","subKeyList","k","push","$emit","component","module","exports","props","primaryKeyField","type","String","required","Object","items","Array","default","viewQuery","loading","Boolean","lazyLoading","selection","link","sortField","collection"],"mappings":"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","file":"js/chunk-243c41c9.dea1ce09.js","sourcesContent":["var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=3f43fe12&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=style&index=0&id=3f43fe12&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"spacing\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"layouts-timeline-date\"))+\"\\n    \"),_c('v-icon',{staticClass:\"required\",attrs:{\"name\":\"star\",\"color\":\"input-required-color\",\"sup\":\"\"}})],1),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.date || '__none__',\"options\":_vm.dateOptions,\"icon\":\"today\"},on:{\"input\":function($event){return _vm.setOption('date', $event)}}}),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"spacing\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"layouts-timeline-title\"))+\"\\n    \"),_c('v-icon',{staticClass:\"required\",attrs:{\"name\":\"star\",\"color\":\"input-required-color\",\"sup\":\"\"}})],1),_c('v-input',{attrs:{\"id\":\"spacing\",\"pattern\":_vm.titleValidator,\"value\":_vm.viewOptions.title,\"options\":_vm.textOptions},on:{\"input\":function($event){return _vm.setOption('title', $event)}}}),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"spacing\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"layouts-timeline-content\"))+\"\\n    \"),_c('v-icon',{staticClass:\"required\",attrs:{\"name\":\"star\",\"color\":\"input-required-color\",\"sup\":\"\"}})],1),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.content || '__none__',\"options\":_vm.contentOptions,\"icon\":\"title\"},on:{\"input\":function($event){return _vm.setOption('content', $event)}}}),_c('label',{staticClass:\"type-label\",attrs:{\"for\":\"spacing\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t(\"layouts-timeline-color\"))+\"\\n  \")]),_c('v-select',{staticClass:\"select\",attrs:{\"id\":\"spacing\",\"value\":_vm.viewOptions.color || '__none__',\"options\":_vm.textOptions,\"icon\":\"color_lens\"},on:{\"input\":function($event){return _vm.setOption('color', $event)}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent>\n    <label for=\"spacing\" class=\"type-label\">\n      {{ $t(\"layouts-timeline-date\") }}\n      <v-icon class=\"required\" name=\"star\" color=\"input-required-color\" sup />\n    </label>\n    <v-select\n      id=\"spacing\"\n      :value=\"viewOptions.date || '__none__'\"\n      :options=\"dateOptions\"\n      class=\"select\"\n      icon=\"today\"\n      @input=\"setOption('date', $event)\"\n    ></v-select>\n    <label for=\"spacing\" class=\"type-label\">\n      {{ $t(\"layouts-timeline-title\") }}\n      <v-icon class=\"required\" name=\"star\" color=\"input-required-color\" sup />\n    </label>\n    <v-input\n      id=\"spacing\"\n      :pattern=\"titleValidator\"\n      :value=\"viewOptions.title\"\n      :options=\"textOptions\"\n      @input=\"setOption('title', $event)\"\n    ></v-input>\n    <label for=\"spacing\" class=\"type-label\">\n      {{ $t(\"layouts-timeline-content\") }}\n      <v-icon class=\"required\" name=\"star\" color=\"input-required-color\" sup />\n    </label>\n    <v-select\n      id=\"spacing\"\n      :value=\"viewOptions.content || '__none__'\"\n      :options=\"contentOptions\"\n      class=\"select\"\n      icon=\"title\"\n      @input=\"setOption('content', $event)\"\n    ></v-select>\n    <label for=\"spacing\" class=\"type-label\">\n      {{ $t(\"layouts-timeline-color\") }}\n    </label>\n    <v-select\n      id=\"spacing\"\n      :value=\"viewOptions.color || '__none__'\"\n      :options=\"textOptions\"\n      class=\"select\"\n      icon=\"color_lens\"\n      @input=\"setOption('color', $event)\"\n    ></v-select>\n  </form>\n</template>\n\n<script>\nimport mixin from \"@directus/extension-toolkit/mixins/layout\";\n\nexport default {\n  mixins: [mixin],\n  data() {\n    return {\n      sortList: null,\n      titleValid: true\n    };\n  },\n  computed: {\n    contentOptions() {\n      var options = {\n        __none__: `(${this.$t(\"dont_show\")})`,\n        ..._.mapValues(this.fields, info =>\n          [\"integer\", \"string\", \"user\"].includes(info.type) ? info.name : null\n        )\n      };\n      return _.pickBy(options, _.identity);\n    },\n    titleValidator() {\n      var fields = _.keys(this.fields); //this.getKeys(this.fields)\n      fields = fields\n        .toString()\n        .replace('\"', \"\")\n        .replace(/,/g, \"|\");\n      var regex = new RegExp(\"^([^\\\\{\\\\}]*?\\\\{\\\\{\\\\s*?(\" + fields + \")\\\\s*?\\\\}\\\\})*?[^\\\\{\\\\}]*?$\");\n      return regex.toString().replace(/\\//g, \"\");\n    },\n    textOptions() {\n      var options = {\n        __none__: `(${this.$t(\"dont_show\")})`,\n        ..._.mapValues(this.fields, info =>\n          info.type == \"string\" || info.type == \"integer\" ? info.name : null\n        )\n      };\n      return _.pickBy(options, _.identity);\n    },\n    dateOptions() {\n      var options = _.mapValues(this.fields, info =>\n        [\"date\", \"datetime\"].includes(info.type) ? info.name : null\n      );\n      return _.pickBy(options, _.identity);\n    }\n  },\n  methods: {\n    getKeys(obj) {\n      var keys = _.keys(obj);\n      var subKeys = [];\n      for (var i = 0; i < keys.length; i++) {\n        if (typeof obj[keys[i]] === \"object\") {\n          var subKeyList = this.getKeys(obj[keys[i]]);\n          for (var k = 0; k < subKeyList.length; k++) {\n            subKeys.push(keys[i] + \".\" + subKeyList[k]);\n          }\n        }\n      }\n      return [...keys, ...subKeys];\n    },\n    setOption(option, value) {\n      this.$emit(\"options\", {\n        ...this.viewOptions,\n        [option]: value\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.type-label {\n  margin-top: var(--form-vertical-gap-sidebar);\n  margin-bottom: var(--input-label-margin);\n  &:first-of-type {\n    margin-top: 0;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./options.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./options.vue?vue&type=template&id=3f43fe12&scoped=true&\"\nimport script from \"./options.vue?vue&type=script&lang=js&\"\nexport * from \"./options.vue?vue&type=script&lang=js&\"\nimport style0 from \"./options.vue?vue&type=style&index=0&id=3f43fe12&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f43fe12\",\n  null\n  \n)\n\nexport default component.exports","module.exports = {\n  props: {\n    primaryKeyField: {\n      type: String,\n      required: true\n    },\n    fields: {\n      type: Object,\n      required: true\n    },\n    items: {\n      type: Array,\n      default: () => ([])\n    },\n    viewOptions: {\n      type: Object,\n      default: () => ({})\n    },\n    viewQuery: {\n      type: Object,\n      default: () => ({})\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    lazyLoading: {\n      type: Boolean,\n      default: false\n    },\n    selection: {\n      type: Array,\n      default: () => []\n    },\n    link: {\n      type: String,\n      default: null\n    },\n    sortField: {\n      type: String,\n      default: null\n    },\n    collection: {\n      type: String,\n      default: null\n    }\n  }\n};\n"],"sourceRoot":""}